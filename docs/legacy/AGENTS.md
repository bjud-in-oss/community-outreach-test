# Community Outreach Platform - DIY Coding Platform for Seniors
## Master Plan 2.0: Dubbelt Medvetandesystem Arkitektur

## 🚨 AKTUELLT UPPDRAG: HELTÄCKANDE DOKUMENTANALYS FÖR STRATEGIC CLEAN START

### KRITISK INSTRUKTION FÖR JULES:
Vi är i Fas 0 Strategic Clean Start och behöver en komplett analys av ALLA 40+ dokument i rotmappen innan vi fattar beslut om ny repository vs fortsätta i nuvarande.

**ANVÄND DIN NYA KRITIKER-FUNKTIONALITET** för dubbel review och högsta kvalitet.

**ANALYSERA ALLA DESSA DOKUMENT:**

**🟢 AKTIVA DOKUMENT:**
- 01_🎯🟢_MASTER_INTEGRATION_PLAN_240809_ALL.md
- 02_📋🟢_DOCUMENT_INDEX_240812_01.md  
- 03_📋🟢_NEXT_IMMEDIATE_ACTIONS_240809_01.md
- 04_🤖🟢_AGENTS_240809_01.md
- 005_📚🟢_DOCUMENTATION_RESEARCH_PLAN_240809_06.md
- 006.1_⚙️🟡_SETUP_INSTRUCTIONS_240809_05.md
- 06_📋🟢_SETUP_COMPLETE_SUMMARY_240808_05.md
- 008_🔄🟢_STRATEGIC_CLEAN_START_PLAN_240808_01.md
- 009_🔍🟢_STRATEGIC_REPOSITORY_ANALYSIS_240808_01.md

**🟡 UNDER UTVECKLING:**
- 110_🎭🟡_CONSCIOUS_AGENT_DEEP_DIVE_000000_01,12,31.md
- 111_⚙️🟡_CORE_AGENT_DEEP_DIVE_000000_01,23,04.md
- 112_🌉🟡_COMMUNICATION_BRIDGE_DEEP_DIVE_000000_01,10,11.md
- 113_🔧🟡_PLATFORM_SELECTOR_DEEP_DIVE_000000_01,23.md
- 224_🎨🟡_WYSIWYG_INTEGRATION_ANALYSIS_240811_01,40.md
- 241_🎨🟡_SENIOR_UI_COMPONENTS_ANALYSIS_000000_40,10.md
- 242_💝🟡_EMPATHY_ENGINE_ANALYSIS_000000_40,10.md

**🔵 REFERENSDOKUMENT:**
- 051_💡🔵_INITIAL_CONCEPT_DOCUMENTATION_240809_01,32.md
- 052_📋🔵_NYTT_FILNAMNSYSTEM_240809_ALL.md
- 080_📝🔵_KONTEXT_ORIGINAL_240809_81.md
- 081_📝🔵_KONTEXT_UPDATED_240809_80.md
- 082_📊🔵_SYSTEM_STATUS_COMPLETE_240808_01,06.md
- 130_🔧🔵_KIRO_DEVELOPMENT_STRATEGY_240808_01,31.md
- 131_🧠🔵_DUAL_CONSCIOUSNESS_ARCHITECTURE_240809_01,10,12.md
- 132_🎯🔵_PHASE_PLANNING_FRAMEWORK_240809_01,03.md
- 150_🌉🔵_COMPLETE_INTEGRATION_PLAN_240809_01,31,05.md
- 220_🏛️🔵_CHURCH_TECHNOLOGY_ANALYSIS_240808_21,01.md
- 221_🌍🔵_REAL_TIME_TRANSLATION_ANALYSIS_240808_20,01.md
- 222_👨‍👩‍👧‍👦🔵_FAMILY_HISTORY_INTEGRATION_ANALYSIS_240808_01,23.md
- 223_📊🔵_COMPREHENSIVE_TOOLS_ANALYSIS_240808_01,11,13.md
- 225_🔄🔵_PREVIEW_MERGE_STRATEGY_REFERENCE_240811_01.md
- 225.1_🔄🔵_HYBRID_MERGE_STRATEGY_240811_15.md
- 240_👥🔵_ADVANCED_USER_ANALYSIS_240808_01,41,42.md

**VERSIONSSPECIFIKA:**
- v1.12_🌉🟡_CONTEXT_BRIDGE_SYSTEM_SUMMARY_240808_31,12.md
- v1.14_🧠🟡_SESSION_CONTINUITY_INTEGRATION_PLAN_240808_31,03.md
- v1.15_🤖🟡_INTELLIGENT_MERGE_SYSTEM_240808_30,04.md
- v2.13_🔧🟡_MULTI_PLATFORM_IMPLEMENTATION_SUMMARY_240808_23,13.md
- v3.16_🤖🟡_MULTI_AGENT_BIDIRECTIONAL_SYSTEM_240808_31,11.md

**ANDRA VIKTIGA FILER:**
- COMPLETE_CODE_INVENTORY.md
- SELEKTIV_IMPORT_PLAN.md
- jules-deliverables-summary.md
- KIRO_KALLSTART_PROMPT.md
- PR_95_PROBLEM_SOLUTION.md
- test-complete-system.md

**SKAPA HELTÄCKANDE RAPPORT:**
Skapa en detaljerad rapport som fil: `JULES_COMPLETE_DOCUMENT_ANALYSIS_[DATUM].md` som inkluderar:

1. **DOKUMENTINVENTERING** - Lista ALLA dokument som analyserats
2. **STRATEGISK ANALYS** - Vad som faktiskt ska byggas, arkitektur krav, teknisk skuld
3. **REPOSITORY REKOMMENDATION** - NY REPOSITORY vs FORTSÄTT I NUVARANDE
4. **PRIORITERAD HANDLINGSPLAN** - Konkreta nästa steg för Fas 0

**KVALITETSKONTROLL:** Använd kritiker-funktionaliteten för final review.

---

## Project Vision & Structure
Banbrytande DIY-kodningsplattform för seniorer och kyrkliga gemenskaper. Systemet använder dubbel medvetandestruktur där teknisk komplexitet helt abstraheras bort från användaren genom **Senior Cockpit** - ett intelligent filter-gränssnitt. Utvecklare: Mattias.

### Kärnarkitektur: Dubbelt Medvetandesystem MED SENIOR COCKPIT
**Den Medvetna Rondellen** (Frontend & Kommunikation):
- **Senior Cockpit** - Ett enda dynamiskt gränssnitt som ersätter 40+ dokument
- 100% oteknisk kommunikation med seniorer via cockpit
- Empati-motor med Groq för emotionella responser
- Visuell fas-progression (Crawl/Walk/Run/Fly) i cockpit
- Användarplan-formulär med AI-driven EARS-generering

**Kärn-agenten** (Backend & Teknisk Implementation):
- LangChain orchestration för agent reasoning
- LlamaIndex för RAG och minneshantering  
- Jules/Smolagents integration som kontrollerade verktyg
- Vercel + Supabase infrastruktur
- **System View** - All teknisk data (Git, Jira, CI/CD)

**ReAct Kommunikationsbrygga MED SENIOR VIEW SERVICE**:
- **SeniorViewService** - Backend For Frontend som filtrerar System View → Senior View
- **Förbättrad SeniorTranslator** - Kontextmedveten summering och aggregering
- Strikta guardrails för informationsseparation
- Strukturerad tanke/minne överföring
- Säker översättning mellan medveten/kärn-agent via cockpit

## AI Agent Communication System

### Jules Communication Protocol (DISCOVERED METHOD)
Jules can be communicated with through GitHub issue manipulation:

1. **Task Triggering**: Add "jules" label to any GitHub issue
2. **Task Restart**: Modify issue title (add "Try again") + remove/re-add "jules" label
3. **Context Updates**: Jules reads this AGENTS.md file for every task
4. **Progress Monitoring**: Jules comments on issues with updates
5. **Completion**: Jules creates pull requests when done

### Intelligent Agent Loop Architecture
The system operates in three intelligent phases:

**Phase 1: ACT ON ENVIRONMENT** (Närhet genom handling)
- Monitor GitHub issues for stuck Jules tasks
- Manipulate issue titles and labels to restart tasks
- Update AGENTS.md with new context and learnings
- Create new issues when needed

**Phase 2: ADAPT TO ENVIRONMENT** (Närhet genom anpassning)  
- Learn from Jules responses and behavior patterns
- Adjust communication strategies based on success/failure
- Update environment understanding

**Phase 3: PROCESS DEEPER** (Djup reflektion)
- Analyze memory patterns for insights
- Generate new strategies from historical data
- Optimize memory to prevent overflow
- Plan multi-step approaches

### Memory System (Dynamic Learning)
- **Interactions**: Jules communication history and outcomes
- **Patterns**: Behavioral patterns in Jules responses  
- **Strategies**: Successful approaches for different scenarios
- **Failures**: Learning opportunities from unsuccessful attempts
- **Environment**: Current state understanding and context

## Development Setup (Master Plan 2.0 MED SENIOR COCKPIT)

### Strategisk Teknisk Stack
**🟡 Agent-ramverk**: LangChain (orchestration), LlamaIndex (RAG/minne)
**🔵 Infrastruktur**: Vercel (hosting), Supabase (databas/auth)  
**🟡 LLM-leverantörer**: Groq (emotionell motor), Gemini API (kodgenerering)
**🔴 Specialist-verktyg**: Jules (kontrollerat verktyg), Smolagents (alternativ)
**🎭 Senior Cockpit**: React/TypeScript för senior-vänligt gränssnitt

### Fasbaserad Utveckling: "Crawl, Walk, Run, Fly" MED SENIOR COCKPIT
**Fas 0 (CRAWL)**: ✅ Senior Cockpit MVP + Communication Bridge integration
**Fas 1 (WALK)**: Användarplan-formulär + AI-driven EARS-generering i cockpit
**Fas 2 (RUN)**: System View integration + Real-time progress tracking
**Fas 3 (FLY)**: Självförbättrande system baserat på senior-feedback

### Package Management & Scripts
- Use npm for package management
- Follow React functional component patterns with TypeScript
- Include TypeScript interfaces for all data structures
- Always include proper package.json scripts:
  - `"test": "jest --watchAll=false"`
  - `"test:watch": "jest --watch"`
  - `"build": "next build"`
  - `"dev": "next dev"`
  - `"start": "next start"`
  - `"load-docs": "node docs/research/documentation-loader.js"`
  - `"analyze-docs": "npm run load-docs && cat docs/research/analysis-report.md"`

## Testing Requirements
- Write unit tests for all components using Jest and React Testing Library
- Create test files with `.test.tsx` or `.spec.tsx` extension
- Place test files in `__tests__` directory or alongside components
- Test file structure example:
```typescript
import { render, screen } from '@testing-library/react'
import '@testing-library/jest-dom'
import ComponentName from './ComponentName'

describe('ComponentName', () => {
  it('renders correctly', () => {
    render(<ComponentName />)
    expect(screen.getByText('Expected Text')).toBeInTheDocument()
  })
})
```
- Always include Jest configuration in package.json:
```json
{
  "jest": {
    "testEnvironment": "jsdom",
    "setupFilesAfterEnv": ["<rootDir>/jest.setup.js"]
  }
}
```
- Create jest.setup.js with: `import '@testing-library/jest-dom'`

## Automation Instructions for Jules (UPPDATERAD MED SENIOR COCKPIT)
When completing tasks:
1. Always create comprehensive, production-ready code
2. Include proper error handling and TypeScript types
3. Write tests for all new functionality
4. Follow established project patterns
5. Create detailed commit messages explaining changes
6. Auto-publish pull requests when task is complete

### SENIOR COCKPIT SPECIFIC INSTRUCTIONS:
7. All senior-facing components must be in `src/conscious-agent/senior-cockpit/`
8. Use SeniorViewService for all System View → Senior View transformations
9. Ensure all technical complexity is filtered through SeniorTranslator
10. Test that no technical jargon reaches senior interfaces
11. Follow Senior View vs System View separation strictly
12. Include senior-friendly error messages and fallbacks

## Required Dependencies for New Projects
Always include these dependencies in package.json:
```json
{
  "devDependencies": {
    "@testing-library/react": "^13.4.0",
    "@testing-library/jest-dom": "^5.16.5",
    "@testing-library/user-event": "^14.4.3",
    "jest": "^29.7.0",
    "jest-environment-jsdom": "^29.7.0",
    "@types/jest": "^29.5.5"
  }
}
```

## File Creation Standards
For every new component, always create:
1. The component file (e.g., `components/Button.tsx`)
2. The test file (e.g., `components/__tests__/Button.test.tsx`)
3. Export from index file if applicable
4. Update package.json scripts if missing

## Branch Management
- Use descriptive branch names (feature/task-description)
- Include issue number in branch name when applicable
- Ensure all tests pass before creating PR