# Community Outreach Platform - DIY Coding Platform for Seniors
## Master Plan 2.0: Dubbelt Medvetandesystem Arkitektur

## ðŸš¨ AKTUELLT UPPDRAG: HELTÃ„CKANDE DOKUMENTANALYS FÃ–R STRATEGIC CLEAN START

### KRITISK INSTRUKTION FÃ–R JULES:
Vi Ã¤r i Fas 0 Strategic Clean Start och behÃ¶ver en komplett analys av ALLA 40+ dokument i rotmappen innan vi fattar beslut om ny repository vs fortsÃ¤tta i nuvarande.

**ANVÃ„ND DIN NYA KRITIKER-FUNKTIONALITET** fÃ¶r dubbel review och hÃ¶gsta kvalitet.

**ANALYSERA ALLA DESSA DOKUMENT:**

**ðŸŸ¢ AKTIVA DOKUMENT:**
- 01_ðŸŽ¯ðŸŸ¢_MASTER_INTEGRATION_PLAN_240809_ALL.md
- 02_ðŸ“‹ðŸŸ¢_DOCUMENT_INDEX_240812_01.md  
- 03_ðŸ“‹ðŸŸ¢_NEXT_IMMEDIATE_ACTIONS_240809_01.md
- 04_ðŸ¤–ðŸŸ¢_AGENTS_240809_01.md
- 005_ðŸ“šðŸŸ¢_DOCUMENTATION_RESEARCH_PLAN_240809_06.md
- 006.1_âš™ï¸ðŸŸ¡_SETUP_INSTRUCTIONS_240809_05.md
- 06_ðŸ“‹ðŸŸ¢_SETUP_COMPLETE_SUMMARY_240808_05.md
- 008_ðŸ”„ðŸŸ¢_STRATEGIC_CLEAN_START_PLAN_240808_01.md
- 009_ðŸ”ðŸŸ¢_STRATEGIC_REPOSITORY_ANALYSIS_240808_01.md

**ðŸŸ¡ UNDER UTVECKLING:**
- 110_ðŸŽ­ðŸŸ¡_CONSCIOUS_AGENT_DEEP_DIVE_000000_01,12,31.md
- 111_âš™ï¸ðŸŸ¡_CORE_AGENT_DEEP_DIVE_000000_01,23,04.md
- 112_ðŸŒ‰ðŸŸ¡_COMMUNICATION_BRIDGE_DEEP_DIVE_000000_01,10,11.md
- 113_ðŸ”§ðŸŸ¡_PLATFORM_SELECTOR_DEEP_DIVE_000000_01,23.md
- 224_ðŸŽ¨ðŸŸ¡_WYSIWYG_INTEGRATION_ANALYSIS_240811_01,40.md
- 241_ðŸŽ¨ðŸŸ¡_SENIOR_UI_COMPONENTS_ANALYSIS_000000_40,10.md
- 242_ðŸ’ðŸŸ¡_EMPATHY_ENGINE_ANALYSIS_000000_40,10.md

**ðŸ”µ REFERENSDOKUMENT:**
- 051_ðŸ’¡ðŸ”µ_INITIAL_CONCEPT_DOCUMENTATION_240809_01,32.md
- 052_ðŸ“‹ðŸ”µ_NYTT_FILNAMNSYSTEM_240809_ALL.md
- 080_ðŸ“ðŸ”µ_KONTEXT_ORIGINAL_240809_81.md
- 081_ðŸ“ðŸ”µ_KONTEXT_UPDATED_240809_80.md
- 082_ðŸ“ŠðŸ”µ_SYSTEM_STATUS_COMPLETE_240808_01,06.md
- 130_ðŸ”§ðŸ”µ_KIRO_DEVELOPMENT_STRATEGY_240808_01,31.md
- 131_ðŸ§ ðŸ”µ_DUAL_CONSCIOUSNESS_ARCHITECTURE_240809_01,10,12.md
- 132_ðŸŽ¯ðŸ”µ_PHASE_PLANNING_FRAMEWORK_240809_01,03.md
- 150_ðŸŒ‰ðŸ”µ_COMPLETE_INTEGRATION_PLAN_240809_01,31,05.md
- 220_ðŸ›ï¸ðŸ”µ_CHURCH_TECHNOLOGY_ANALYSIS_240808_21,01.md
- 221_ðŸŒðŸ”µ_REAL_TIME_TRANSLATION_ANALYSIS_240808_20,01.md
- 222_ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ðŸ”µ_FAMILY_HISTORY_INTEGRATION_ANALYSIS_240808_01,23.md
- 223_ðŸ“ŠðŸ”µ_COMPREHENSIVE_TOOLS_ANALYSIS_240808_01,11,13.md
- 225_ðŸ”„ðŸ”µ_PREVIEW_MERGE_STRATEGY_REFERENCE_240811_01.md
- 225.1_ðŸ”„ðŸ”µ_HYBRID_MERGE_STRATEGY_240811_15.md
- 240_ðŸ‘¥ðŸ”µ_ADVANCED_USER_ANALYSIS_240808_01,41,42.md

**VERSIONSSPECIFIKA:**
- v1.12_ðŸŒ‰ðŸŸ¡_CONTEXT_BRIDGE_SYSTEM_SUMMARY_240808_31,12.md
- v1.14_ðŸ§ ðŸŸ¡_SESSION_CONTINUITY_INTEGRATION_PLAN_240808_31,03.md
- v1.15_ðŸ¤–ðŸŸ¡_INTELLIGENT_MERGE_SYSTEM_240808_30,04.md
- v2.13_ðŸ”§ðŸŸ¡_MULTI_PLATFORM_IMPLEMENTATION_SUMMARY_240808_23,13.md
- v3.16_ðŸ¤–ðŸŸ¡_MULTI_AGENT_BIDIRECTIONAL_SYSTEM_240808_31,11.md

**ANDRA VIKTIGA FILER:**
- COMPLETE_CODE_INVENTORY.md
- SELEKTIV_IMPORT_PLAN.md
- jules-deliverables-summary.md
- KIRO_KALLSTART_PROMPT.md
- PR_95_PROBLEM_SOLUTION.md
- test-complete-system.md

**SKAPA HELTÃ„CKANDE RAPPORT:**
Skapa en detaljerad rapport som fil: `JULES_COMPLETE_DOCUMENT_ANALYSIS_[DATUM].md` som inkluderar:

1. **DOKUMENTINVENTERING** - Lista ALLA dokument som analyserats
2. **STRATEGISK ANALYS** - Vad som faktiskt ska byggas, arkitektur krav, teknisk skuld
3. **REPOSITORY REKOMMENDATION** - NY REPOSITORY vs FORTSÃ„TT I NUVARANDE
4. **PRIORITERAD HANDLINGSPLAN** - Konkreta nÃ¤sta steg fÃ¶r Fas 0

**KVALITETSKONTROLL:** AnvÃ¤nd kritiker-funktionaliteten fÃ¶r final review.

---

## Project Vision & Structure
Banbrytande DIY-kodningsplattform fÃ¶r seniorer och kyrkliga gemenskaper. Systemet anvÃ¤nder dubbel medvetandestruktur dÃ¤r teknisk komplexitet helt abstraheras bort frÃ¥n anvÃ¤ndaren genom **Senior Cockpit** - ett intelligent filter-grÃ¤nssnitt. Utvecklare: Mattias.

### KÃ¤rnarkitektur: Dubbelt Medvetandesystem MED SENIOR COCKPIT
**Den Medvetna Rondellen** (Frontend & Kommunikation):
- **Senior Cockpit** - Ett enda dynamiskt grÃ¤nssnitt som ersÃ¤tter 40+ dokument
- 100% oteknisk kommunikation med seniorer via cockpit
- Empati-motor med Groq fÃ¶r emotionella responser
- Visuell fas-progression (Crawl/Walk/Run/Fly) i cockpit
- AnvÃ¤ndarplan-formulÃ¤r med AI-driven EARS-generering

**KÃ¤rn-agenten** (Backend & Teknisk Implementation):
- LangChain orchestration fÃ¶r agent reasoning
- LlamaIndex fÃ¶r RAG och minneshantering  
- Jules/Smolagents integration som kontrollerade verktyg
- Vercel + Supabase infrastruktur
- **System View** - All teknisk data (Git, Jira, CI/CD)

**ReAct Kommunikationsbrygga MED SENIOR VIEW SERVICE**:
- **SeniorViewService** - Backend For Frontend som filtrerar System View â†’ Senior View
- **FÃ¶rbÃ¤ttrad SeniorTranslator** - Kontextmedveten summering och aggregering
- Strikta guardrails fÃ¶r informationsseparation
- Strukturerad tanke/minne Ã¶verfÃ¶ring
- SÃ¤ker Ã¶versÃ¤ttning mellan medveten/kÃ¤rn-agent via cockpit

## AI Agent Communication System

### Jules Communication Protocol (DISCOVERED METHOD)
Jules can be communicated with through GitHub issue manipulation:

1. **Task Triggering**: Add "jules" label to any GitHub issue
2. **Task Restart**: Modify issue title (add "Try again") + remove/re-add "jules" label
3. **Context Updates**: Jules reads this AGENTS.md file for every task
4. **Progress Monitoring**: Jules comments on issues with updates
5. **Completion**: Jules creates pull requests when done

### Intelligent Agent Loop Architecture
The system operates in three intelligent phases:

**Phase 1: ACT ON ENVIRONMENT** (NÃ¤rhet genom handling)
- Monitor GitHub issues for stuck Jules tasks
- Manipulate issue titles and labels to restart tasks
- Update AGENTS.md with new context and learnings
- Create new issues when needed

**Phase 2: ADAPT TO ENVIRONMENT** (NÃ¤rhet genom anpassning)  
- Learn from Jules responses and behavior patterns
- Adjust communication strategies based on success/failure
- Update environment understanding

**Phase 3: PROCESS DEEPER** (Djup reflektion)
- Analyze memory patterns for insights
- Generate new strategies from historical data
- Optimize memory to prevent overflow
- Plan multi-step approaches

### Memory System (Dynamic Learning)
- **Interactions**: Jules communication history and outcomes
- **Patterns**: Behavioral patterns in Jules responses  
- **Strategies**: Successful approaches for different scenarios
- **Failures**: Learning opportunities from unsuccessful attempts
- **Environment**: Current state understanding and context

## Development Setup (Master Plan 2.0 MED SENIOR COCKPIT)

### Strategisk Teknisk Stack
**ðŸŸ¡ Agent-ramverk**: LangChain (orchestration), LlamaIndex (RAG/minne)
**ðŸ”µ Infrastruktur**: Vercel (hosting), Supabase (databas/auth)  
**ðŸŸ¡ LLM-leverantÃ¶rer**: Groq (emotionell motor), Gemini API (kodgenerering)
**ðŸ”´ Specialist-verktyg**: Jules (kontrollerat verktyg), Smolagents (alternativ)
**ðŸŽ­ Senior Cockpit**: React/TypeScript fÃ¶r senior-vÃ¤nligt grÃ¤nssnitt

### Fasbaserad Utveckling: "Crawl, Walk, Run, Fly" MED SENIOR COCKPIT
**Fas 0 (CRAWL)**: âœ… Senior Cockpit MVP + Communication Bridge integration
**Fas 1 (WALK)**: AnvÃ¤ndarplan-formulÃ¤r + AI-driven EARS-generering i cockpit
**Fas 2 (RUN)**: System View integration + Real-time progress tracking
**Fas 3 (FLY)**: SjÃ¤lvfÃ¶rbÃ¤ttrande system baserat pÃ¥ senior-feedback

### Package Management & Scripts
- Use npm for package management
- Follow React functional component patterns with TypeScript
- Include TypeScript interfaces for all data structures
- Always include proper package.json scripts:
  - `"test": "jest --watchAll=false"`
  - `"test:watch": "jest --watch"`
  - `"build": "next build"`
  - `"dev": "next dev"`
  - `"start": "next start"`
  - `"load-docs": "node docs/research/documentation-loader.js"`
  - `"analyze-docs": "npm run load-docs && cat docs/research/analysis-report.md"`

## Testing Requirements
- Write unit tests for all components using Jest and React Testing Library
- Create test files with `.test.tsx` or `.spec.tsx` extension
- Place test files in `__tests__` directory or alongside components
- Test file structure example:
```typescript
import { render, screen } from '@testing-library/react'
import '@testing-library/jest-dom'
import ComponentName from './ComponentName'

describe('ComponentName', () => {
  it('renders correctly', () => {
    render(<ComponentName />)
    expect(screen.getByText('Expected Text')).toBeInTheDocument()
  })
})
```
- Always include Jest configuration in package.json:
```json
{
  "jest": {
    "testEnvironment": "jsdom",
    "setupFilesAfterEnv": ["<rootDir>/jest.setup.js"]
  }
}
```
- Create jest.setup.js with: `import '@testing-library/jest-dom'`

## Automation Instructions for Jules (UPPDATERAD MED SENIOR COCKPIT)
When completing tasks:
1. Always create comprehensive, production-ready code
2. Include proper error handling and TypeScript types
3. Write tests for all new functionality
4. Follow established project patterns
5. Create detailed commit messages explaining changes
6. Auto-publish pull requests when task is complete

### SENIOR COCKPIT SPECIFIC INSTRUCTIONS:
7. All senior-facing components must be in `src/conscious-agent/senior-cockpit/`
8. Use SeniorViewService for all System View â†’ Senior View transformations
9. Ensure all technical complexity is filtered through SeniorTranslator
10. Test that no technical jargon reaches senior interfaces
11. Follow Senior View vs System View separation strictly
12. Include senior-friendly error messages and fallbacks

## Required Dependencies for New Projects
Always include these dependencies in package.json:
```json
{
  "devDependencies": {
    "@testing-library/react": "^13.4.0",
    "@testing-library/jest-dom": "^5.16.5",
    "@testing-library/user-event": "^14.4.3",
    "jest": "^29.7.0",
    "jest-environment-jsdom": "^29.7.0",
    "@types/jest": "^29.5.5"
  }
}
```

## File Creation Standards
For every new component, always create:
1. The component file (e.g., `components/Button.tsx`)
2. The test file (e.g., `components/__tests__/Button.test.tsx`)
3. Export from index file if applicable
4. Update package.json scripts if missing

## Branch Management
- Use descriptive branch names (feature/task-description)
- Include issue number in branch name when applicable
- Ensure all tests pass before creating PR